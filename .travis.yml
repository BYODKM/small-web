language: node_js
node_js:
  - '4.1'
branches:
  only:
    - master
script:
  - npm run bower
  - npm run sprite
  - npm run build
cache:
  directories:
    - bower_components
    - node_modules
after_success:
  - rm .gitignore && cp gh-pages.ignore .gitignore
  - git config user.name "TRAVIS"
  - git config user.email "hello@internets.co.jp"
  - git add -A
  - git commit -m "Add dist"
  - git push -qf "https://${GH_TOKEN}@github.com/internets-inc/small-web.git" master:gh-pages > /dev/null 2>&1
notifications:
  email:
    - hello@internets.co.jp
env:
  global:
    - secure: YEVXFG+Ezcz6s4ioJi2n7JDgkbd8saYKYC+oR8VqOvolVbowpn+X2p0zcHtVpxAllRxbaGdW5G+jQfT3Le7HxFG+2WCuV9kIjxIEN5Tfi5UxK29j5qrXfnEeT+1MVM6jnqTHhAS+tt7y13QDL0c2/mXM93Bd2J2gjgonMxBtArvoAABwPiYyRJgxcK3VyG6KgUD4ylOG2VJBVS4wQqrJQ0XM7uZ7LDTPONrKF2MDCJl2OWfmnk0rLe5q6I8r8HdiJAUR5OOMS/WKEQd1ktVYVvu1nSZ+ITij3VE0Sgx8La0S3Y33J43JiGSIxAEklLhq2fR4qCEcgAvNq44MkW3SmmOCVlzwC+ZBeLHWyDdR6dRAluygSkKJr16j5opccEGhfsqb0o687nPUxx+aQAJTFDCInibojXdtQGIDxdBQ1ausiWyePvDsacTrLY4kk0/9m9M8qLfr1SWsd8KaFeU7aBkQnwmuyBcuyWyGSNHQaHvBTLA2jflBkHdeuCjrPceSuVK/wLO5TivLM7kK5Yg+hjkwAHfDy3HUm/SWzaaP0odfmTvb3vIvijqiPz3Aym8QGtQ5DXf6uaNnXGJiN2Fi3WaNDDnumoAwTEJOzVU1eCVFUKEtGkbXwULRDWTWCLZMZFpcmGswwW2Te6dfBljUMtWrFcN4YCkH0c6nfUnfgeo="
