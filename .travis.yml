language: node_js
node_js:
  - '4.1'
branches:
  only:
    - master
script:
  - npm run bower
  - npm run sprite
  - npm run build
cache:
  directories:
    - bower_components
    - node_modules
after_success:
  - rm .gitignore && cp gh-pages.ignore .gitignore
  - git config user.name "TRAVIS"
  - git config user.email "hello@internets.co.jp"
  - git add -A
  - git commit -m "Add dist"
  - git push -qf "https://${GH_TOKEN}@github.com/internets-inc/small-web.git" master:gh-pages > /dev/null 2>&1
notifications:
  email:
    - hello@internets.co.jp
env:
  global:
    - secure: EsTVfHaL4goUUw7rwcOhbMdFLPLiPGZmEASwDRYg16KCnXUYF/MAMMDosCFrOmatDFsYOKmJPOfPCPRsFqYc2a4ZXpeUC8nkH/Qw4pv6q0XdfOT+DYEwI3BgXVXWYhM5+dpnPCHkj0PQbIhfqgmGZ4mCA2OSaiS4SRGixr2DmKDOAZ6BITJFVUQqYDdXuoebRIQ1d7vMeLJkiU2Q84U7jhLviFCjq4659D8/tCAgSNcpd3JU6kL7vyEJCR6mxCtc9VB6bR/VvzlfWElZgZo5A5462qsyBrTi9sJ/aazCex05Ly4Nlhmo1mkIrmCjTGA7k1NJOOdtwAaqJmnE9LYAzXUum80vBJCYfiw0HYrLML4pMG2SCR7aD0y0u8kHet5LVu7xW8eHk6Fmwzd5yWZyb0uqtnZREylCW0PwvbubR9RYFbmi9bRZIgpfq4djCguGmL0XmbmMTZ+bc9hf1LlwWg/1+Z3cYjWGWZ7KnXlj9dElLgXbdfiFXvxy1pGADDEsFfgQJ3D5RzHSaXifUOqoojmvGYLx9UGypPmQboujGzh4H3IX60uuHv3lQL/6XB4AcoYBxbE3yTz58RCkkjapexgLUmCodFAjtQx0ogHCGWlDkJBaBaBaqKk9sRlNh0xqZuArj4KkxUAoCBI1D/DqYE9mrddhazxTab6pFoDzCgw=
